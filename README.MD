# –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä Telegram-–∫–∞–Ω–∞–ª–æ–≤ | Telegram Channel Analyzer

![Python](https://img.shields.io/badge/Python-3.10+-blue?style=for-the-badge&logo=python&logoColor=white)
![Django](https://img.shields.io/badge/Django-4.2+-092E20?style=for-the-badge&logo=django&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-20+-2496ED?style=for-the-badge&logo=docker&logoColor=white)
[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg?style=for-the-badge)](https://www.gnu.org/licenses/gpl-3.0)
[![Docker Pulls](https://img.shields.io/docker/pulls/whn0thacked/telegram-api-parser?style=for-the-badge&logo=docker&logoColor=white)](https://hub.docker.com/r/whn0thacked/telegram-api-parser)

–í–µ–±-—Å–µ—Ä–≤–∏—Å —Å REST API –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö Telegram-–∫–∞–Ω–∞–ª–æ–≤. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Telethon** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram API –∏ **Celery** –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–∞–ª–∏–∑—ã –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑:** –ó–∞–¥–∞—á–∏ –ø–æ —Å–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è—è –∫–ª–∏–µ–Ω—Ç–∞ –∂–¥–∞—Ç—å.
*   **REST API:** –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
*   **–†–∞—Å—á–µ—Ç –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç ER (Engagement Rate), CPV (Cost Per View), CPM (Cost Per Mille), —Å—Ä–µ–¥–Ω–∏–µ –∏ –æ–±—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤/—Ä–µ–∞–∫—Ü–∏–π.
*   **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å –ø–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞ (–≤ –¥–Ω—è—Ö) –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å—Ç–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫.
*   **–ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ –Ω–∞ Docker Hub.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö —Å–ø–æ—Å–æ–±–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–π —Ü–µ–ª–∏.

---

### –°–ø–æ—Å–æ–± 1: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∏–∑ Docker Hub

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç—É—é –ø–∞–ø–∫—É, –≥–¥–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ.
```bash
mkdir my-telegram-parser && cd my-telegram-parser
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `docker-compose.yml`
–°–æ–∑–¥–∞–π—Ç–µ –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ —Ñ–∞–π–ª `docker-compose.yml` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –≠—Ç–æ—Ç —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ –∏–∑ Docker Hub.

```yaml
# docker-compose.yml
services:
  db:
    image: postgres:13
    volumes: ["postgres_data:/var/lib/postgresql/data/"]
    environment: ["POSTGRES_USER=${POSTGRES_USER}","POSTGRES_PASSWORD=${POSTGRES_PASSWORD}","POSTGRES_DB=${POSTGRES_DB}"]
    ports: ["5432:5432"]
  redis:
    image: redis:6.2-alpine
    ports: ["6379:6379"]
  app:
    image: whn0thacked/telegram-api-parser:latest
    command: daphne -b 0.0.0.0 -p 8000 project.asgi:application
    volumes: ["telegram_session:/app/session/"]
    ports: ["8000:8000"]
    env_file: [".env"]
    depends_on: ["db", "redis"]
  worker:
    image: whn0thacked/telegram-api-parser:latest
    command: celery -A project.celery_app worker -l info
    volumes: ["telegram_session:/app/session/"]
    env_file: [".env"]
    depends_on: ["redis", "db"]
volumes:
  postgres_data:
  telegram_session:
```

#### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`
–†—è–¥–æ–º —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∑–∞–ø–æ–ª–Ω–∏—Ç–µ `SECRET_KEY`, `TELEGRAM_API_ID` –∏ `TELEGRAM_API_HASH`.
–£–Ω–∏–∫–∞–ª—å–Ω—ã–π `SECRET_KEY` –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, [–∑–¥–µ—Å—å](https://djecrety.ir/).

```ini
# .env
# Django Settings
SECRET_KEY=–í–ê–®_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß_DJANGO
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1

# PostgreSQL Settings
POSTGRES_DB=telegram_parser_db
POSTGRES_USER=user
POSTGRES_PASSWORD=password
DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# Redis
REDIS_URL=redis://redis:6379/0

# Telegram API Credentials (https://my.telegram.org)
TELEGRAM_API_ID=–í–ê–®_API_ID
TELEGRAM_API_HASH=–í–ê–®_API_HASH
TELEGRAM_SESSION_FILE=/app/session/telegram_session
TELEGRAM_SYSTEM_VERSION=4.16.30-vxCUSTOM
```

#### –®–∞–≥ 4: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Å—Å–∏—é Telegram
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. **–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑.**
```bash
docker compose run --rm -it app python manage.py createsession
```
–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∫–æ–¥ –∏–∑ Telegram –∏ –ø–∞—Ä–æ–ª—å 2FA (–µ—Å–ª–∏ –µ—Å—Ç—å).

#### –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
```bash
docker compose up -d
```

#### –®–∞–≥ 6: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
docker compose exec app python manage.py migrate
```
üéâ **–ì–æ—Ç–æ–≤–æ!** –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000`.

---

### –°–ø–æ—Å–æ–± 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤)

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥.

#### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/your-username/Telegram-API-Parser.git
cd Telegram-API-Parser
```

#### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (`SECRET_KEY`, `TELEGRAM_API_ID` –∏ `TELEGRAM_API_HASH`).
```bash
cp .env.example .env
```

#### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Å—Å–∏—é Telegram
–ö–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
```bash
docker compose run --rm -it app python manage.py createsession
```

#### –®–∞–≥ 4: –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
–§–∞–π–ª `docker-compose.yml` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–±–æ—Ä–∫—É.
```bash
docker compose up --build -d
```

#### –®–∞–≥ 5: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
docker compose exec app python manage.py migrate
```
üéâ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥, –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç —Å—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### 1. –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–Ω–∞–ª–∞

–û—Ç–ø—Ä–∞–≤—å—Ç–µ `POST` –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ –∞–Ω–∞–ª–∏–∑–∞. –ó–∞–¥–∞—á–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –æ—á–µ—Ä–µ–¥—å –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ —Ñ–æ–Ω–æ–≤—ã–º –≤–æ—Ä–∫–µ—Ä–æ–º.

*   **URL:** `http://localhost:8000/api/analyzer/analyze/`
*   **–ú–µ—Ç–æ–¥:** `POST`
*   **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**

    ```json
    {
        "channel_username": "durov",
        "days_to_analyze": 30,
        "price": 50000.0
    }
    ```
    *   `channel_username` (string, required): –Æ–∑–µ—Ä–Ω–µ–π–º –∫–∞–Ω–∞–ª–∞ (–±–µ–∑ `@`).
    *   `days_to_analyze` (integer, optional, default: 30): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–Ω–µ–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
    *   `price` (float, optional, default: 1000.0): –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å—Ç–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ CPV –∏ CPM.

*   **–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (202 Accepted):**
    –°–µ—Ä–≤–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤–µ—Ä–Ω–µ—Ç ID —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏.
    ```json
    {
        "task_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
    }
    ```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `task_id`, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

*   **URL:** `http://localhost:8000/api/analyzer/tasks/{task_id}/`
*   **–ú–µ—Ç–æ–¥:** `GET`

*   **–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (–∑–∞–¥–∞—á–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ):**
    ```json
    {
        "task_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
        "status": "PROGRESS",
        "channel_username": "durov",
        "days_to_analyze": 30,
        "price": 50000.0,
        "result": null,
        "error_message": null,
        "created_at": "2023-10-27T10:00:00Z",
        "updated_at": "2023-10-27T10:01:00Z"
    }
    ```

*   **–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ):**
    ```json
    {
        "task_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
        "status": "SUCCESS",
        "result": {
            "channel_info": {
                "username": "durov",
                "subscribers": 1784967,
                "posts_analyzed": 15,
                "period_days": 30,
                "price_used": 50000.0
            },
            "calculated_metrics": {
                "avg_views": 685331,
                "avg_reactions": 39501.7,
                "total_views": 10279965,
                "total_reactions": 592525,
                "er_percent": 2.21,
                "cpv": 0.07,
                "cpm": 72.96
            }
        },
        "error_message": null,
        "created_at": "2023-10-27T10:00:00Z",
        "updated_at": "2023-10-27T10:02:15Z"
    }
    ```

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **GNU General Public License v3.0 (GPLv3)**. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ `LICENSE`.
